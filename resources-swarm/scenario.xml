<scenario xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:noNamespaceSchemaLocation="scenario.xsd">

    <!-- to be uploaded to Swarm worker container -->

    <brokers>
        <broker id="b1">
            <address>hivemq_broker</address>
            <port>1883</port>
        </broker>
    </brokers>

    <clientGroups>
        <clientGroup id="cg1">
            <clientIdPattern>A[0-9]{4}</clientIdPattern>
            <count>10</count>
        </clientGroup>
    </clientGroups>

    <topicGroups>
        <topicGroup id="tg1">
            <topicNamePattern>topic/subtopic-[0-9]</topicNamePattern>
            <count>10</count>
        </topicGroup>
    </topicGroups>

    <stages>
        <!-- 3 -->
        <stage id="s1">
            <lifeCycle id="publish" clientGroup="cg1">
                <connect broker="b1"/>
                <publish topicGroup="tg1" count="100" message="30" payloadGeneratorType="random" rate="1/1s"/>
            </lifeCycle>
        </stage>
    </stages>
</scenario>
